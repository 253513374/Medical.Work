@inherits LayoutComponentBase

<MudThemeProvider />
<MudDialogProvider
    FullWidth="true"
    MaxWidth="MaxWidth.Medium"
    CloseButton="true"
    DisableBackdropClick="true"
    NoHeader="true"
    Position="DialogPosition.Center"
    CloseOnEscapeKey="true"

/>
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar   Elevation="0" Color="Color.Transparent">

       
        @*<MudText Class="mx-5">Menu</MudText>*@
        <MudSpacer />
       <LoginDisplay />
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" Elevation="0" ClipMode ="DrawerClipMode.Always" Variant="@DrawerVariant.Mini">
        <MudStack Class="mx-2" Row="true" Justify="@(_drawerOpen?Justify.FlexEnd : Justify.Center)" AlignItems="AlignItems.Center" >
            <MudTooltip Text="展开菜单导航"  Arrow="true" Placement="Placement.Right">
                 <MudIconButton  Size="Size.Small" Variant="Variant.Outlined"  Icon="@Icons.Material.Filled.Menu"  Edge="Edge.End" OnClick="@((e) => DrawerToggle())" />
            </MudTooltip>
        </MudStack>
        
        
            @*//@if(_drawerOpen)*@
            
                <MudDrawerHeader>
                  <MudImage Fluid="true"  Src="img/logo.png" ObjectFit="ObjectFit.ScaleDown" ObjectPosition="ObjectPosition.Center" ></MudImage>
                </MudDrawerHeader>
            
          
       

        <NavMenu NavVariant="@navVariant" />
    </MudDrawer>
    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Large" Class="my-5">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    bool _drawerOpen = true;

    private DrawerVariant navVariant{set;get;}
    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
        if(_drawerOpen)
        {
            navVariant = DrawerVariant.Persistent;
        }
        else
        {
             navVariant = DrawerVariant.Mini;
        }
    }
}